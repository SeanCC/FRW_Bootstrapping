install.packages("shiny")
load("~/Thesis Recheck/8242019.RData")
View(ccdat)
View(ccoutput)
load("~/Thesis Recheck/completed_sim.RData")
load("~/Thesis Recheck/ccdat.RData")
source('~/Thesis Recheck/code/TestCode.R')
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/Thesis Recheck/code/OutCode.R')
ccoutput <- ccdat_output(ccdat_out)
View(ccoutput)
for(i in 5:16){print(i)}
for(i in 1:16){print(4*i)
print(4*i +1)
print(4*i +2)
print(4*i+3)}
for(i in 1:15){print(i*4)}
source('~/Thesis Recheck/code/OutCode.R')
ccoutput <- ccdat_output(ccdat_out)
View(ccoutput)
table(ccdat$Class)
ccdat_sub_rows <- sample(nrow(ccdat), 84807)
ccdat_sub <- ccdat[ccdat_sub_rows]
ccdat_sub <- ccdat[ccdat_sub_rows,]
ccdat_train <- ccdat[-ccdat_sub_rows,]
ccdat_sub_0 <- ccdat_sub[ccdat_sub$Class == 0,]
ccdat_sub_1 <- ccdat_sub[ccdat_sub$Class == 1,]
ccdat_test <- rbind(ccdat_sub_0[sample(nrow(ccdat_sub_0), 100),], ccdat_sub_1[sample(nrow(ccdat_sub_1), 100),])
table(ccdat_test$Class)
ccdat_train_samp <- ccdat_train[sample(nrow(ccdat_train), 10000),]
table(ccdat_train_samp)
table(ccdat_train_samp$Class)
source('~/Thesis Recheck/code/TestCode.R')
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/Thesis Recheck/code/TestCode.R')
source('~/Thesis Recheck/code/TestCode.R')
source('~/Thesis Recheck/code/TestCode.R')
source('~/Thesis Recheck/code/TestCode.R')
load("~/Thesis Recheck/heartdatout.RData")
View(ccoutput)
unique(ccdat$Class)
source('~/Thesis Recheck/code/TestCode.R')
ccoutput_ds <- cc_bag_output_depths_and_splits(ccdoutput)
ccoutput_ds <- cc_bag_output_depths_and_splits(ccoutput)
source('~/Thesis Recheck/code/TestCode.R')
ccoutput_ds <- cc_bag_output_depths_and_splits(ccoutput)
source('~/Thesis Recheck/code/TestCode.R')
ccoutput_ds <- cc_bag_output_depths_and_splits(ccoutput)
source('~/Thesis Recheck/code/TestCode.R')
ccoutput_ds <- cc_bag_output_depths_and_splits(ccoutput)
View(ccoutput_ds)
write.csv(ccoutput_ds, "CC_Dat_Grid.csv")
source('~/Thesis Recheck/code/TestCode.R')
cc_bag_analysis <- cc_bag_output_analysis(ccoutput_ds)
source('~/Thesis Recheck/code/TestCode.R')
cc_bag_analysis <- cc_bag_output_analysis(ccoutput_ds)
View(cc_bag_analysis)
source('~/Thesis Recheck/code/TestCode.R')
source('~/Thesis Recheck/code/TestCode.R')
cc_bag_analysis <- cc_bag_output_analysis(ccoutput_ds)
View(cc_bag_analysis)
source('~/Thesis Recheck/code/TestCode.R')
source('~/Thesis Recheck/code/TestCode.R')
cc_bag_analysis <- cc_bag_output_analysis(ccoutput_ds)
source('~/Thesis Recheck/code/TestCode.R')
cc_bag_analysis <- cc_bag_output_analysis(ccoutput_ds)
View(cc_bag_analysis)
write.csv(cc_bag_analysis, "output/analysis/cc_bag_analysis.csv")
write.csv(cc_bag_analysis, "Thesis Recheck/output/analysis/cc_bag_analysis.csv")
mean(cc_bag_analysis$frw_bag_1_correct)
mean(cc_bag_analysis$rbag_1_correct)
source('~/Thesis Recheck/code/TestCode.R')
data(iris)
ifac <- colnames(iris)
ifac
igrp <- ifac[5]
ifac <- ifac[-5]
train_ind <- sample(nrow(iris), 100)
train <- iris[train_index,]
train <- iris[train_ind,]
test <- iris[-train_ind,]
tree <- rpart(Species~Petal.Width + Petal.Length+Sepal.Width +Sepal.Length, data=train, method="class")
library(rpart)
tree <- rpart(Species~Petal.Width + Petal.Length+Sepal.Width +Sepal.Length, data=train, method="class")
test_prediction <- predict(tree, test[1,], type="prob")
test_prediction
test_prediction[0,]
dimname(test_prediction)
dimnames(test_prediction)
dimnames(test_prediction)[2]
data(iris)
train_ind <- sample(nrow(iris), 100)
train <- iris[train_ind,]
test <- iris[-train_ind,]
library(rpart)
source('~/Thesis Recheck/code/TreeBagging.R')
ifac <- colnames(iris)
igrp <- ifac[5]
ifac <- ifac[-5]
rbag <- Reg_Bag(train, 10, ifac, igrp)
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
bp
source('~/Thesis Recheck/code/TreeBagging.R')
bp
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
View(iris)
tree <- rpart(Species~Sepal.Length+Sepal.Width+Petal.Length+Petal.Width, data=train, method="class")
test_prediction <- predict(tree, test[1,], type="prob")
test_prediction
pclasse s<- dimnames(test_prediction)[[2]]
pclasses<- dimnames(test_prediction)[[2]]
pclasses
classes <- unique(iris$Species)
pvec <- list(rep(0, length(classes)))
lapply(seq(1, length(pclasses)), function(x) pvec[match(pclasses[x], classes)] <- test_prediction[1,x])
pvec
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
View(bp)
View(bp)
bpdf <- data.frame(unlist(bp))
bpdf <- data.frame(bp)
bpmat <- matrix(bp)
View(bpmat)
bpmat
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
View(bp)
bpdf <- data.frame(bp)
View(bpdf)
bpdf <- data.frame(t(bp))
bpmat <- matrix(bp)
bpmat <- matrix(unlist(bp))
bpdf <- data.frame(unlist(bp))
bpdf <- data.frame(bp)
bpdf <- t(data.frame(bp))
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
bp <- bag_prediction_probs(rbag, test[1,], unique(iris$Species))
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/Thesis Recheck/code/TestCode.R')
curwd()
getwd()
credit <- read.csv("Thesis Recheck/credit_sim/data/creditcard.csv")
csub_ind <- sample(nrow(credit), 1000)
csub <- credit[csub_ind,]
View(credit)
table(csub$Class)
csub_ind <- sample(nrow(credit), 2000)
csub <- credit[csub_ind,]
table(csub$Class)
csub_ind <- sample(nrow(credit), 2000)
csub <- credit[csub_ind,]
table(csub$Class)
csub_ind <- sample(nrow(credit), 3500)
csub <- credit[csub_ind,]
table(csub$Class)
len(colnames(credit))
length(colnames(credit))
source('~/Thesis Recheck/credit_sim/credit_sim.R')
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
table(credit$Class)
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
typeof(credit$Class)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
View(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_out <- credit_bag_grid(credit)
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/Thesis Recheck/code/TreeBagging.R')
c_prob_out <- credit_bag_grid(credit)
save.image("~/Thesis Recheck/credit_prob_sim.RData")
source('~/Thesis Recheck/credit_sim/credit_sim.R')
c_prob_df <- credit_format_output(c_prob_out)
View(c_prob_df)
write.csv(c_prob_df, file="Thesis Recheck/credit_sim/credit_prob_reg_grid.csv", row.names=FALSE, quote=FALSE)
save.image("~/Thesis Recheck/credit_prob_sim.RData")
source('~/Thesis Recheck/code/TreeBagging.R')
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
data(iris)
iris_prob_out <- iris_bag_grid(iris)
View(iris_prob_out)
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
iris_df <- iris_format_output(iris_prob_out)
View(iris_df)
length(unique(iris_df$ID))
View(iris_prob_out)
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
iris_df <- iris_format_output(iris_prob_out)
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
iris_df <- iris_format_output(iris_prob_out)
View(iris_df)
save.image("~/FRW_Bootstrapping/iris_sim/iris_sim.RData")
write.csv(iris_df, file="FRW_Bootstrapping/iris_sim/iris_prob_reg_grid.csv", row.names=FALSE, quote=FALSE)
iris_train_ind <- sample(nrow(iris), 100)
iris_train <- iris[iris_train_ind,]
iris_test <- iris[-iris_train_ind,]
ifac <- colnames(iris)
igrp <- ifac[5]
ifac <- ifac[-5]
rbag <- Reg_Bag(iris_train, 100, ifac, igrp)
prob_preds <- lapply(seq(1, nrow(iris_test)), function(x) bag_prediction_prob(rbag,iris_test[x,], unique(iris$Species)))
source('~/FRW_Bootstrapping/code/TreeBagging.R')
prob_preds <- lapply(seq(1, nrow(iris_test)), function(x) bag_prediction_prob(rbag,iris_test[x,], unique(iris$Species)))
View(prob_preds)
ppdf <- as.data.frame(prob_preds)
View(ppdf)
ppdf <- do.call(prob_preds, rbind())
ppdf <- do.call(rbind, prob_preds)
View(ppdf)
source('~/FRW_Bootstrapping/code/TreeBagging.R')
prob_preds <- lapply(seq(1, nrow(iris_test)), function(x) bag_prediction_prob(rbag,iris_test[x,], unique(iris$Species)))
View(prob_preds)
ppdf <- do.call(rbind, prob_preds)
View(ppdf)
source('~/FRW_Bootstrapping/code/TreeBagging.R')
source('~/FRW_Bootstrapping/code/TreeBagging.R')
prob_preds <- lapply(seq(1, nrow(iris_test)), function(x) bag_prediction_prob(rbag,iris_test[x,], unique(iris$Species)))
install.packages("data.table")
source('~/FRW_Bootstrapping/code/TreeBagging.R')
source('~/FRW_Bootstrapping/code/TreeBagging.R')
prob_preds <- lapply(seq(1, nrow(iris_test)), function(x) bag_prediction_prob(rbag,iris_test[x,], unique(iris$Species)))
ppdf <- do.call(rbind, prob_preds)
View(ppdf)
source('~/FRW_Bootstrapping/code/TreeBagging.R')
source('~/FRW_Bootstrapping/code/TreeBagging.R')
ppdf <- bag_prediction_prob_df(rbag, iris_test, unique(iris$Species))
View(ppdf)
source('~/FRW_Bootstrapping/code/TreeBagging.R')
ppdf <- bag_prediction_prob_df(rbag, iris_test, unique(iris$Species))
View(ppdf)
source('~/FRW_Bootstrapping/code/TreeBagging.R')
ppdf <- bag_prediction_prob_df(rbag, iris_test, unique(iris$Species))
View(ppdf)
ppdf$id <- rep(1:3, times=50)
View(ppdf)
ppdf_reshape <- dcast(data=ppdf, formula=id~predictions, fun.aggregate=sum, value.var="Freq")
View(ppdf_reshape)
ppdf_reshape <- dcast(data=ppdf, formula=pred_ID~predictions, value.var="Freq")
View(ppdf_reshape)
ppdf  <- bag_prediction_prob_df(rbag, iris_test, unique(iris$Species))
View(ppdf)
source('~/FRW_Bootstrapping/code/TreeBagging.R')
ppdf  <- bag_prediction_prob_df(rbag, iris_test, unique(iris$Species))
View(ppdf)
source('~/FRW_Bootstrapping/code/TreeBagging.R')
source('~/FRW_Bootstrapping/code/TreeBagging.R')
ppdf <- bag_prediction_df(rbag, iris_test)
View(ppdf)
source('~/FRW_Bootstrapping/code/TreeBagging.R')
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
iris_bagging_sim <- iris_bag_grid(iris)
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
iris_bagging_sim <- iris_bag_grid(iris)
save.image("~/FRW_Bootstrapping/iris_sim/iris_bagging_grid.RData")
View(iris_bagging_sim)
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
ib_output <- iris_format_output(iris_bagging_sim)
View(ib_output)
write.csv(ib_output, file="FRW_Bootstrapping/iris_sim/iris_bagging_grid_sim.csv", row.names=FALSE, quote=FALSE)
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
iris_bagging_sim <- iris_bag_grid(iris)
iris_bagging_sim_df <- iris_format_out(iris_bagging_sim)
iris_bagging_sim_df <- iris_format_output(iris_bagging_sim)
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
iris_bagging_sim_df <- iris_format_output(iris_bagging_sim)
View(iris_bagging_sim)
source('~/FRW_Bootstrapping/iris_sim/iris_sim.R')
iris_bagging_sim_df <- iris_format_output(iris_bagging_sim)
View(iris_bagging_sim_df)
write.csv(iris_bagging_sim_df, file="FRW_Bootstrapping/iris_sim/iris_bagging_grid_sim_df.csv", quote=FALSE, row.names=FALSE)
setwd("FRW_Bootstrapping")
source('~/FRW_Bootstrapping/code/TreeBagging.R')
source('~/FRW_Bootstrapping/code/TestCode.R')
ccdat <- read.csv("credit_sim/data/creditcard.csv")
length(colnames(ccdat))
source('~/FRW_Bootstrapping/troubleshooting/troubleshooting.R')
newdat <- testing_dat_split(ccdat)
newdat <- testing_dat_split(ccdat, 3000)
train <- newdat[0]
train <- newdat[[0]]
View(newdat)
source('~/FRW_Bootstrapping/troubleshooting/troubleshooting.R')
newdat <- testing_dat_split(ccdat, 3000)
train <- newdat[0]
train <- newdat[[0]]
source('~/FRW_Bootstrapping/troubleshooting/troubleshooting.R')
newdat <- testing_dat_split(ccdat, 3000)
train <- newdat[0]
train <- newdat[[0]]
View(train)
train <- newdat[1]
train <- newdat[[1]]
test <- newdat[[2]]
cfac <- colnames(ccdat)
cgrp <- cfac[31]
cfac <- cfac[-31]
rbag <- Reg_Bag(train, 100, cfac, cgrp, train_size=0, tree_control=rpart.control(maxdepth=4, cp=0.01))
frwbag <- FRW_Bag(train, 100, cfac, cgrp, tree_control=rpart.control(maxdepth=4, cp=0.01))
reg_pred_prob <- bag_prediction_prob_df(rbag, test, c(0,1))
frw_pred_prob <- bag_prediction_prob_df(frwbag, test, c(0,1))
View(reg_pred_prob)
View(frw_pred_prob)
reg_class_pred <- bag_prediction_df(rbag, test)
frw_class_pred <- bag_prediction_df(frwbag, test)
compare_df <- cbind(reg_pred_prob, frw_pred_prob, reg_class_pred, frw_class_pred)
View(compare_df)
colnames(reg_pred_prob) <- c("rID", "reg_prob_0", "reg_prob_1")
colnames(frw_pred_prob) <- c("rID", "frw_prob_0", "frw_prob_1")
colnames(reg_class_pred) <- c("Reg_Class")
colnames(frw_class_pred) <- c("FRW_Class")
compare_df <- cbind(reg_pred_prob, frw_pred_prob, reg_class_pred, frw_class_pred, test$Class)
test_obs <- test[52,]
reg_long <- bag_prediction_long(rbag, test_obs)
frw_long <- bag_prediction_long(frwbag, test_obs)
reg_long
frw_long
names(sort(table(reg_long))[1])
names(sort(table(frw_long))[1])
table(reg_long)
table(frw_long)
sort(table(frw_long))
-sort(table(frw_long))
sort(table(frw_long), decreasing=TRUE)
names(sort(table(frw_long), decreasing=TRUE))
names(sort(table(frw_long), decreasing=TRUE))[1]
source('~/FRW_Bootstrapping/code/TreeBagging.R')
source('~/FRW_Bootstrapping/code/TreeBagging.R')
